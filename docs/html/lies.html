

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Occasional lies &mdash; Friendly tracebacks 0.0.19a documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Some thoughts on the design of friendly-traceback" href="design.html" />
    <link rel="prev" title="Usage" href="usage.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Friendly tracebacks
          

          
          </a>

          
            
            
              <div class="version">
                0.0.19a
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="usage.html"> Usage</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#"> Occasional lies</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#you-can-lie-too">You can lie too</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="design.html"> Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html"> Public API</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom.html"> Custom exceptions and formatting</a></li>
<li class="toctree-l1"><a class="reference internal" href="suggest.html"> Suggest an addition</a></li>
<li class="toctree-l1"><a class="reference internal" href="adding_exception.html"> Adding an Exception</a></li>
<li class="toctree-l1"><a class="reference internal" href="syntax_error.html"> Dealing with Syntax Errors</a></li>
<li class="toctree-l1"><a class="reference internal" href="tracebacks_en_3.6.html"> Friendly tracebacks - Python 3.6 in English</a></li>
<li class="toctree-l1"><a class="reference internal" href="syntax_tracebacks_en_3.6.html"> SyntaxError - Python 3.6 in English</a></li>
<li class="toctree-l1"><a class="reference internal" href="tracebacks_en_3.7.html"> Friendly tracebacks - Python 3.7 in English</a></li>
<li class="toctree-l1"><a class="reference internal" href="syntax_tracebacks_en_3.7.html"> SyntaxError - Python 3.7 in English</a></li>
<li class="toctree-l1"><a class="reference internal" href="tracebacks_en_3.8.html"> Friendly tracebacks - Python 3.8 in English</a></li>
<li class="toctree-l1"><a class="reference internal" href="syntax_tracebacks_en_3.8.html"> SyntaxError - Python 3.8 in English</a></li>
<li class="toctree-l1"><a class="reference internal" href="tracebacks_fr.html"> Friendly tracebacks - Python 3.7 en Français</a></li>
<li class="toctree-l1"><a class="reference internal" href="syntax_tracebacks_fr.html"> SyntaxError - Python 3.7 en Français</a></li>
<li class="toctree-l1"><a class="reference internal" href="translation_notes.html"> Notes on translations - using gettext</a></li>
<li class="toctree-l1"><a class="reference internal" href="compare.html"> Comparison between versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html"> Change Log</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Friendly tracebacks</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Occasional lies</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/lies.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="design.html" class="btn btn-neutral float-right" title="Some thoughts on the design of friendly-traceback" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="usage.html" class="btn btn-neutral float-left" title="Usage" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="occasional-lies">
<h1>Occasional lies<a class="headerlink" href="#occasional-lies" title="Permalink to this headline">¶</a></h1>
<p>Let’s get something immediately out of the way:
[very occasionally] Friendly-traceback will lie to you.
When it does so, it will indicate it to you;
however, it will do so in a way that might be easily overlooked.</p>
<p>Have a look at the following screen captures, all taken using
version 0.0.8a  (Python version: 3.7.3 on Win 32). (Later screenshots
will normally include Friendly-traceback version.)</p>
<p>First, we show a traceback generated with <code class="docutils literal notranslate"><span class="pre">level</span></code> set to 0:
with this choice, the output only includes the normal
Python traceback.</p>
<a class="reference internal image-reference" href="_images/name_error_0.png"><img alt="Friendly Python traceback" src="_images/name_error_0.png" style="width: 598.1999999999999px; height: 106.2px;" /></a>
<p>Next, we show a traceback generated with <code class="docutils literal notranslate"><span class="pre">level</span></code> set to 9:
this corresponds to the “simulated” Python traceback as
determined by Friendly-traceback.  The traceback is
identical to the true Python traceback as above.</p>
<a class="reference internal image-reference" href="_images/name_error_9.png"><img alt="Friendly Python traceback" src="_images/name_error_9.png" style="width: 592.8px; height: 108.6px;" /></a>
<p>So far, Friendly-traceback has not lied. Let’s look at another
example, first run directly with Python.</p>
<a class="reference internal image-reference" href="_images/syntax_error1_py.png"><img alt="Friendly Python traceback" src="_images/syntax_error1_py.png" style="width: 598.1999999999999px; height: 111.6px;" /></a>
<p>Because the traceback contains only a single step, Python did not
include the standard header <code class="docutils literal notranslate"><span class="pre">Traceback</span> <span class="pre">(most</span> <span class="pre">recent</span> <span class="pre">call</span> <span class="pre">last):</span></code>.</p>
<p>Here’s the “simulated” Python traceback generated by Friendly-traceback.</p>
<a class="reference internal image-reference" href="_images/syntax_error1_9.png"><img alt="Friendly Python traceback" src="_images/syntax_error1_9.png" style="width: 601.8px; height: 126.6px;" /></a>
<p>Notice how the standard header appears, but preceeded by the word
“Simulated”.</p>
<p>Here’s the <strong>true</strong> Python traceback generated (displayed with <code class="docutils literal notranslate"><span class="pre">level</span></code> 0)
while this same script is run by Friendly-traceback:</p>
<a class="reference internal image-reference" href="_images/syntax_error1_0.png"><img alt="Friendly Python traceback" src="_images/syntax_error1_0.png" style="width: 854.0px; height: 336.0px;" /></a>
<p>This traceback contains a lot more information, as Friendly-traceback
uses Python’s <code class="docutils literal notranslate"><span class="pre">runpy</span></code> module as well as its own functions to run this
script - all of which are shown in this traceback.
To avoid confusing users, when it is desired to include a Python traceback
in the information provided by Friendly-traceback, the default will
be to include a “simulated” traceback, where all traces of
Friendly-traceback’s own functions, as well as Python’s <code class="docutils literal notranslate"><span class="pre">runpy</span></code> module,
will be removed.  When such calls are removed, the traceback header
will have the word “Simulated” inserted first.  If no calls are removed,
like in the very first example, then the word “Simulated” does not appear.</p>
<div class="section" id="you-can-lie-too">
<h2>You can lie too<a class="headerlink" href="#you-can-lie-too" title="Permalink to this headline">¶</a></h2>
<p>Sometimes, you might wish to exclude other modules from the
simulated Python traceback. For example, in Friendly-traceback’s console,
the Python <code class="docutils literal notranslate"><span class="pre">codeop.py</span></code> module might sometimes appear due to the
way we process the users’ code. To instruct Friendly-traceback
from including this module in the “simulated” traceback,
we need to have the following two lines of code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">codeop</span>
<span class="n">friendly_traceback</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">add_excluded_path</span><span class="p">(</span><span class="n">codeop</span><span class="o">.</span><span class="vm">__file__</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="design.html" class="btn btn-neutral float-right" title="Some thoughts on the design of friendly-traceback" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="usage.html" class="btn btn-neutral float-left" title="Usage" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, André Roberge

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>